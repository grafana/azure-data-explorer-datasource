{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./annotations_query_ctrl.ts","webpack:///./cache.ts","webpack:///./config_ctrl.ts","webpack:///./datasource.ts","webpack:///./module.ts","webpack:///./monaco/kusto_code_editor.ts","webpack:///./monaco/kusto_monaco_editor.ts","webpack:///./query_builder.ts","webpack:///./query_ctrl.ts","webpack:///./request_aggregator.ts","webpack:///./response_parser.ts","webpack:///./version.ts","webpack:///external \"angular\"","webpack:///external \"app/core/config\"","webpack:///external \"app/plugins/sdk\"","webpack:///external \"lodash\"","webpack:///external \"moment\""],"names":[],"mappings":"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","file":"module.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./module.ts\");\n","export class KustoDBAnnotationsQueryCtrl {\n  static templateUrl = 'partials/annotations.editor.html';\n  datasource: any;\n  annotation: any;\n  databases: any[];\n  showHelp = false;\n\n  defaultQuery = '<your table>\\n| where $__timeFilter() \\n| project TimeGenerated, Text=YourTitleColumn, Tags=\"tag1,tag2\"';\n\n  /** @ngInject **/\n  constructor() {\n    this.annotation.rawQuery = this.annotation.rawQuery || this.defaultQuery;\n    this.databases = this.getDatabases();\n  }\n\n  getDatabases() {\n    if (this.databases && this.databases.length > 0) {\n      return this.databases;\n    }\n\n    return this.datasource.getDatabases().then(list => {\n      this.databases = list;\n      if (list.length > 0 && !this.annotation.database) {\n        this.annotation.database = list[0].value;\n      }\n      return this.databases;\n    }).catch(() => {});\n  }\n}\n","interface CacheOptions {\n  ttl: number;\n}\n\nexport default class Cache {\n  store: any;\n  constructor(private opts: CacheOptions = { ttl: 10000 }) {\n    this.store = {};\n  }\n\n  put(key, value, ttl = this.opts.ttl): void {\n    if (key === undefined || value === undefined) {\n      return;\n    }\n\n    this.del(key);\n    this.store[key] = {\n      value,\n      expire: Date.now() + ttl,\n      timeout: setTimeout(() => {\n        this.del(key);\n      }, ttl),\n    };\n  }\n\n  get(key): any {\n    var item = this.store[key];\n    if (item && item.expire && item.expire <= Date.now()) {\n      this.del(key);\n      item = undefined;\n    }\n\n    return item && item.value;\n  }\n\n  del(key: string): void {\n    if (this.store.hasOwnProperty(key)) {\n      clearTimeout(this.store[key].timeout);\n      delete this.store[key];\n    }\n  }\n}\n","import { KustoDBDatasource } from './datasource';\nimport config from 'grafana/app/core/config';\nimport { isVersionGtOrEq } from './version';\n\nexport class KustoDBConfigCtrl {\n  static templateUrl = 'partials/config.html';\n\n  current: any;\n  suggestUrl: string;\n  kustoDbDatasource: any;\n  databases: any[];\n  hasRequiredGrafanaVersion: boolean;\n\n  /** @ngInject */\n  constructor($scope, backendSrv, $q) {\n    this.hasRequiredGrafanaVersion = this.hasMinVersion();\n    this.suggestUrl = 'https://yourcluster.kusto.windows.net';\n    $scope.getSuggestUrls = () => {\n      return [this.suggestUrl];\n    };\n\n    if (this.current.id) {\n      this.current.url = 'api/datasources/proxy/' + this.current.id;\n      this.kustoDbDatasource = new KustoDBDatasource(this.current, backendSrv, $q, null);\n      this.getDatabases();\n    }\n  }\n\n  getDatabases() {\n    return this.kustoDbDatasource.getDatabases().then(dbs => {\n      this.databases = dbs;\n      if (this.databases.length > 0) {\n        this.current.jsonData.defaultDatabase = this.current.jsonData.defaultDatabase || this.databases[0].value;\n      }\n    });\n  }\n\n  hasMinVersion(): boolean {\n    return (\n      isVersionGtOrEq(config.buildInfo.latestVersion, '5.3') ||\n      config.buildInfo.version === '5.3.0-beta1' ||\n      config.buildInfo.version === '5.3.0-pre1'\n    );\n  }\n\n  showMinVersionWarning() {\n    return !this.hasRequiredGrafanaVersion;\n  }\n}\n","import _ from 'lodash';\nimport { ResponseParser, DatabaseItem } from './response_parser';\nimport QueryBuilder from './query_builder';\nimport Cache from './cache';\nimport RequestAggregator from './request_aggregator';\n\nexport class KustoDBDatasource {\n  id: number;\n  name: string;\n  baseUrl: string;\n  url: string;\n  defaultOrFirstDatabase: string;\n  cache: Cache;\n  requestAggregatorSrv: RequestAggregator;\n\n  /** @ngInject */\n  constructor(\n    instanceSettings,\n    private backendSrv,\n    private $q,\n    private templateSrv,\n  ) {\n    this.name = instanceSettings.name;\n    this.id = instanceSettings.id;\n    this.baseUrl = `/azuredataexplorer`;\n    this.url = instanceSettings.url;\n    this.defaultOrFirstDatabase = instanceSettings.jsonData.defaultDatabase;\n    this.cache = new Cache({ ttl: this.getCacheTtl(instanceSettings) });\n    this.requestAggregatorSrv = new RequestAggregator(backendSrv);\n  }\n\n  query(options) {\n    const queries = _.filter(options.targets, item => {\n      return (\n        item.hide !== true &&\n        item.query &&\n        item.query.indexOf('<table name>') === -1\n      );\n    }).map(target => {\n      const url = `${this.baseUrl}/v1/rest/query`;\n      const interpolatedQuery = new QueryBuilder(\n        this.templateSrv.replace(\n          target.query,\n          options.scopedVars,\n          this.interpolateVariable,\n        ),\n        options,\n      ).interpolate().query;\n\n      return {\n        key: `${url}-${options.intervalMs}-${options.maxDataPoints}-${\n          options.format\n        }-${target.resultFormat}-${interpolatedQuery}`,\n        refId: target.refId,\n        intervalMs: options.intervalMs,\n        maxDataPoints: options.maxDataPoints,\n        datasourceId: this.id,\n        url: url,\n        query: interpolatedQuery,\n        format: options.format,\n        resultFormat: target.resultFormat,\n        data: {\n          csl: interpolatedQuery,\n          db: target.database,\n        },\n      };\n    });\n\n    if (!queries || queries.length === 0) {\n      return { data: [] };\n    }\n\n    const promises = this.doQueries(queries);\n\n    return this.$q.all(promises).then(results => {\n      return new ResponseParser().parseQueryResult(results);\n    });\n  }\n\n  annotationQuery(options) {\n    if (!options.annotation.rawQuery) {\n      return this.$q.reject({\n        message: 'Query missing in annotation definition',\n      });\n    }\n\n    const queries: any[] = this.buildQuery(\n      options.annotation.rawQuery,\n      options,\n      options.annotation.database,\n    );\n\n    const promises = this.doQueries(queries);\n\n    return this.$q.all(promises).then(results => {\n      const annotations = new ResponseParser().transformToAnnotations(\n        options,\n        results,\n      );\n      return annotations;\n    });\n  }\n\n  metricFindQuery(query: string) {\n    return this.getDefaultOrFirstDatabase().then(database => {\n      const queries: any[] = this.buildQuery(query, null, database);\n\n      const promises = this.doQueries(queries);\n\n      return this.$q\n        .all(promises)\n        .then(results => {\n          return new ResponseParser().parseToVariables(results);\n        })\n        .catch(err => {\n          if (err.error && err.error.data && err.error.data.error) {\n            throw { message: err.error.data.error['@message'] };\n          }\n        });\n    });\n  }\n\n  testDatasource() {\n    return this.testDatasourceConnection()\n      .then(() => this.testDatasourceAccess())\n      .catch(error => {\n        return {\n          status: 'error',\n          message:\n            error.message + ' Connection to database could not be established.',\n        };\n      });\n  }\n\n  testDatasourceConnection() {\n    const url = `${this.baseUrl}/v1/rest/mgmt`;\n    const req = {\n      csl: '.show databases',\n    };\n    return this.doRequest(url, req)\n      .then(response => {\n        if (response.status === 200) {\n          return {\n            status: 'success',\n            message: 'Successfully queried the Azure Data Explorer database.',\n            title: 'Success',\n          };\n        }\n\n        return {\n          status: 'error',\n          message: 'Returned http status code ' + response.status,\n        };\n      })\n      .catch(error => {\n        let message = 'Azure Data Explorer: ';\n        message += error.statusText ? error.statusText + ': ' : '';\n\n        if (error.data && error.data.Message) {\n          message += error.data.Message;\n        } else if (error.data) {\n          message += error.data;\n        } else {\n          message += 'Cannot connect to the Azure Data Explorer REST API.';\n        }\n        return {\n          status: 'error',\n          message: message,\n        };\n      });\n  }\n\n  testDatasourceAccess() {\n    const url = `${this.baseUrl}/v1/rest/mgmt`;\n    const req = {\n      csl: '.show databases schema',\n    };\n    return this.doRequest(url, req)\n      .then(response => {\n        if (response.status === 200) {\n          return {\n            status: 'success',\n            message: 'Successfully queried the Azure Data Explorer database.',\n            title: 'Success',\n          };\n        }\n\n        return {\n          status: 'error',\n          message: 'Returned http status code ' + response.status,\n        };\n      })\n      .catch(error => {\n        let message =\n          'Azure Data Explorer: Cannot read database schema from REST API. ';\n        message += error.statusText ? error.statusText + ': ' : '';\n\n        if (error.data && error.data.error && error.data.error['@message']) {\n          message += error.data.error && error.data.error['@message'];\n        } else if (error.data) {\n          message += JSON.stringify(error.data);\n        } else {\n          message +=\n            'Cannot read database schema from Azure Data Explorer REST API.';\n        }\n        return {\n          status: 'error',\n          message: message,\n        };\n      });\n  }\n\n  getDatabases(): Promise<DatabaseItem[]> {\n    const url = `${this.baseUrl}/v1/rest/mgmt`;\n    const req = {\n      csl: '.show databases',\n    };\n\n    return this.doRequest(url, req).then(response => {\n      return new ResponseParser().parseDatabases(response);\n    });\n  }\n\n  getDefaultOrFirstDatabase() {\n    if (this.defaultOrFirstDatabase) {\n      return Promise.resolve(this.defaultOrFirstDatabase);\n    }\n\n    return this.getDatabases().then(databases => {\n      this.defaultOrFirstDatabase = databases[0].value;\n      return this.defaultOrFirstDatabase;\n    });\n  }\n\n  getSchema(database) {\n    const url = `${this.baseUrl}/v1/rest/mgmt`;\n    const req = {\n      csl: `.show database [${database}] schema as json`,\n    };\n\n    return this.doRequest(url, req).then(response => {\n      return new ResponseParser().parseSchemaResult(response.data);\n    });\n  }\n\n  doQueries(queries) {\n    return queries.map(query => {\n      const cacheResponse = this.cache.get(query.key);\n      if (cacheResponse) {\n        return cacheResponse;\n      } else {\n        return this.requestAggregatorSrv\n          .dsPost(query.key, this.url + query.url, query.data)\n          .then(result => {\n            const res = {\n              result: result,\n              query: query,\n            };\n            if (query.key) {\n              this.cache.put(query.key, res);\n            }\n            return res;\n          })\n          .catch(err => {\n            throw {\n              error: err,\n              query: query,\n            };\n          });\n      }\n    });\n  }\n\n  private buildQuery(query: string, options: any, database: string) {\n    const queryBuilder = new QueryBuilder(\n      this.templateSrv.replace(query, {}, this.interpolateVariable),\n      options,\n    );\n    const url = `${this.baseUrl}/v1/rest/query`;\n    const csl = queryBuilder.interpolate().query;\n    const queries: any[] = [];\n    queries.push({\n      key: `${url}-table-${database}-${csl}`,\n      datasourceId: this.id,\n      url: url,\n      resultFormat: 'table',\n      data: {\n        csl,\n        db: database,\n      },\n    });\n    return queries;\n  }\n\n  doRequest(url, data, maxRetries = 1) {\n    return this.backendSrv\n      .datasourceRequest({\n        url: this.url + url,\n        method: 'POST',\n        data: data,\n      })\n      .catch(error => {\n        if (maxRetries > 0) {\n          return this.doRequest(url, data, maxRetries - 1);\n        }\n\n        throw error;\n      });\n  }\n\n  interpolateVariable(value, variable) {\n    if (typeof value === 'string') {\n      if (variable.multi || variable.includeAll) {\n        return \"'\" + value + \"'\";\n      } else {\n        return value;\n      }\n    }\n\n    if (typeof value === 'number') {\n      return value;\n    }\n\n    var quotedValues = _.map(value, function(val) {\n      if (typeof value === 'number') {\n        return value;\n      }\n\n      return \"'\" + val + \"'\";\n    });\n    return quotedValues.join(',');\n  }\n\n  getCacheTtl(instanceSettings) {\n    if (instanceSettings.jsonData.minimalCache === undefined) {\n      // default ttl is 30 sec\n      return 30000;\n    }\n\n    if (instanceSettings.jsonData.minimalCache < 1) {\n      throw new Error('Minimal cache must be greater than or equal to 1.');\n    }\n\n    return instanceSettings.jsonData.minimalCache * 1000;\n  }\n}\n","import { KustoDBDatasource } from './datasource';\nimport { KustoDBQueryCtrl } from './query_ctrl';\nimport { KustoDBAnnotationsQueryCtrl } from './annotations_query_ctrl';\nimport { KustoDBConfigCtrl } from './config_ctrl';\n\n\nexport {\n  KustoDBDatasource as Datasource,\n  KustoDBQueryCtrl as QueryCtrl,\n  KustoDBConfigCtrl as ConfigCtrl,\n  KustoDBAnnotationsQueryCtrl as AnnotationsQueryCtrl,\n};\n","import _ from 'lodash';\n\nexport interface SuggestionController {\n  _model: any;\n}\n\nexport default class KustoCodeEditor {\n  codeEditor: monaco.editor.IStandaloneCodeEditor;\n  completionItemProvider: monaco.IDisposable;\n  signatureHelpProvider: monaco.IDisposable;\n\n  splitWithNewLineRegex = /[^\\n]+\\n?|\\n/g;\n  newLineRegex = /\\r?\\n/;\n  startsWithKustoPipeRegex = /^\\|\\s*/g;\n  kustoPipeRegexStrict = /^\\|\\s*$/g;\n\n  constructor(private containerDiv: any, private defaultTimeField: string, private getSchema: () => any, private config: any) {}\n\n  initMonaco(scope) {\n    const themeName = this.config.bootData.user.lightTheme ? 'grafana-light' : 'vs-dark';\n\n    monaco.editor.defineTheme('grafana-light', {\n      base: 'vs',\n      inherit: true,\n      rules: [\n        { token: 'comment', foreground: '008000' },\n        { token: 'variable.predefined', foreground: '800080' },\n        { token: 'function', foreground: '0000FF' },\n        { token: 'operator.sql', foreground: 'FF4500' },\n        { token: 'string', foreground: 'B22222' },\n        { token: 'operator.scss', foreground: '0000FF' },\n        { token: 'variable', foreground: 'C71585' },\n        { token: 'variable.parameter', foreground: '9932CC' },\n        { token: '', foreground: '000000' },\n        { token: 'type', foreground: '0000FF' },\n        { token: 'tag', foreground: '0000FF' },\n        { token: 'annotation', foreground: '2B91AF' },\n        { token: 'keyword', foreground: '0000FF' },\n        { token: 'number', foreground: '191970' },\n        { token: 'annotation', foreground: '9400D3' },\n        { token: 'invalid', background: 'cd3131' },\n      ],\n      colors: {\n        'textCodeBlock.background': '#FFFFFF',\n      },\n    });\n\n    monaco.languages['kusto'].kustoDefaults.setLanguageSettings({\n      includeControlCommands: true,\n      newlineAfterPipe: true,\n      useIntellisenseV2: false,\n    });\n\n    this.codeEditor = monaco.editor.create(this.containerDiv, {\n      value: scope.content || 'Write your query here',\n      language: 'kusto',\n      selectionHighlight: false,\n      theme: themeName,\n      folding: true,\n      lineNumbers: 'off',\n      lineHeight: 16,\n      suggestFontSize: 13,\n      dragAndDrop: false,\n      occurrencesHighlight: false,\n      minimap: {\n        enabled: false,\n      },\n      renderIndentGuides: false,\n      wordWrap: 'on',\n    });\n    this.codeEditor.layout();\n\n    if (monaco.editor.getModels().length === 1) {\n      this.completionItemProvider = monaco.languages.registerCompletionItemProvider('kusto', {\n        triggerCharacters: ['.', ' '],\n        provideCompletionItems: this.getCompletionItems.bind(this),\n      });\n\n      this.signatureHelpProvider = monaco.languages.registerSignatureHelpProvider('kusto', {\n        signatureHelpTriggerCharacters: ['(', ')'],\n        provideSignatureHelp: this.getSignatureHelp.bind(this),\n      });\n    }\n\n    this.codeEditor.createContextKey('readyToExecute', true);\n\n    this.codeEditor.onDidChangeCursorSelection(event => {\n      this.onDidChangeCursorSelection(event);\n    });\n\n    this.getSchema().then(schema => {\n      if (!schema) {\n        return;\n      }\n\n      monaco.languages['kusto'].getKustoWorker().then(workerAccessor => {\n        const model = this.codeEditor.getModel();\n        if (!model) {\n          return;\n        }\n        workerAccessor(model.uri).then(worker => {\n          const dbName = Object.keys(schema.Databases).length > 0 ? Object.keys(schema.Databases)[0] : '';\n          worker.setSchemaFromShowSchema(schema, 'https://help.kusto.windows.net', dbName);\n          this.codeEditor.layout();\n        });\n      });\n    });\n  }\n\n  setOnDidChangeModelContent(listener) {\n    this.codeEditor.onDidChangeModelContent(listener);\n  }\n\n  disposeMonaco() {\n    if (this.completionItemProvider) {\n      try {\n        this.completionItemProvider.dispose();\n      } catch (e) {\n        console.error('Failed to dispose the completion item provider.', e);\n      }\n    }\n    if (this.signatureHelpProvider) {\n      try {\n        this.signatureHelpProvider.dispose();\n      } catch (e) {\n        console.error('Failed to dispose the signature help provider.', e);\n      }\n    }\n    if (this.codeEditor) {\n      try {\n        this.codeEditor.dispose();\n      } catch (e) {\n        console.error('Failed to dispose the editor component.', e);\n      }\n    }\n  }\n\n  addCommand(keybinding: number, commandFunc: monaco.editor.ICommandHandler) {\n    this.codeEditor.addCommand(keybinding, commandFunc, 'readyToExecute');\n  }\n\n  getValue() {\n    return this.codeEditor.getValue();\n  }\n\n  toSuggestionController(srv: monaco.editor.IEditorContribution): SuggestionController {\n    return <any>srv;\n  }\n\n  setEditorContent(value) {\n    this.codeEditor.setValue(value);\n  }\n\n  getCompletionItems(model: monaco.editor.IReadOnlyModel, position: monaco.Position) {\n    const timeFilterDocs =\n      '##### Macro that uses the selected timerange in Grafana to filter the query.\\n\\n' +\n      '- `$__timeFilter()` -> Uses the ' + this.defaultTimeField + ' column\\n\\n' +\n      '- `$__timeFilter(datetimeColumn)` ->  Uses the specified datetime column to build the query.';\n\n    var textUntilPosition = model.getValueInRange({\n      startLineNumber: 1,\n      startColumn: 1,\n      endLineNumber: position.lineNumber,\n      endColumn: position.column,\n    });\n\n    if (!_.includes(textUntilPosition, '|')) {\n      return [];\n    }\n\n    if (!_.includes(textUntilPosition.toLowerCase(), 'where')) {\n      return [\n        {\n          label: 'where $__timeFilter(timeColumn)',\n          kind: monaco.languages.CompletionItemKind.Keyword,\n          insertText: {\n            value: 'where \\\\$__timeFilter(${0:' + this.defaultTimeField + '})',\n          },\n          documentation: {\n            value: timeFilterDocs,\n          },\n        },\n      ];\n    }\n\n    if (_.includes(model.getLineContent(position.lineNumber).toLowerCase(), 'where')) {\n      return [\n        {\n          label: '$__timeFilter(timeColumn)',\n          kind: monaco.languages.CompletionItemKind.Keyword,\n          insertText: {\n            value: '\\\\$__timeFilter(${0:' + this.defaultTimeField + '})',\n          },\n          documentation: {\n            value: timeFilterDocs,\n          },\n        },\n        {\n          label: '$__from',\n          kind: monaco.languages.CompletionItemKind.Keyword,\n          insertText: {\n            value: `\\\\$__from`,\n          },\n          documentation: {\n            value:\n              'Built-in variable that returns the from value of the selected timerange in Grafana.\\n\\n' +\n              'Example: `where ' + this.defaultTimeField + ' > $__from` ',\n          },\n        },\n        {\n          label: '$__to',\n          kind: monaco.languages.CompletionItemKind.Keyword,\n          insertText: {\n            value: `\\\\$__to`,\n          },\n          documentation: {\n            value:\n              'Built-in variable that returns the to value of the selected timerange in Grafana.\\n\\n' +\n              'Example: `where ' + this.defaultTimeField + ' < $__to` ',\n          },\n        },\n        {\n          label: '$__interval',\n          kind: monaco.languages.CompletionItemKind.Keyword,\n          insertText: {\n            value: `\\\\$__interval`,\n          },\n          documentation: {\n            value:\n              '##### Built-in variable that returns an automatic time grain suitable for the current timerange.\\n\\n' +\n              'Used with the bin() function - `bin(' + this.defaultTimeField + ', $__interval)` \\n\\n' +\n              '[Grafana docs](http://docs.grafana.org/reference/templating/#the-interval-variable)',\n          },\n        },\n      ];\n    }\n\n    return [];\n  }\n\n  getSignatureHelp(model: monaco.editor.IReadOnlyModel, position: monaco.Position, token: monaco.CancellationToken) {\n    var textUntilPosition = model.getValueInRange({\n      startLineNumber: position.lineNumber,\n      startColumn: position.column - 14,\n      endLineNumber: position.lineNumber,\n      endColumn: position.column,\n    });\n\n    if (textUntilPosition !== '$__timeFilter(') {\n      return <monaco.languages.SignatureHelp>{};\n    }\n\n    const signature: monaco.languages.SignatureHelp = {\n      activeParameter: 0,\n      activeSignature: 0,\n      signatures: [\n        {\n          label: '$__timeFilter(timeColumn)',\n          parameters: [\n            {\n              label: 'timeColumn',\n              documentation:\n                'Default is ' + this.defaultTimeField + ' column. Datetime column to filter data using the selected date range. ',\n            },\n          ],\n        },\n      ],\n    };\n\n    return signature;\n  }\n\n  onDidChangeCursorSelection(event) {\n    if (event.source !== 'modelChange' || event.reason !== monaco.editor.CursorChangeReason.RecoverFromMarkers) {\n      return;\n    }\n    const lastChar = this.getCharAt(event.selection.positionLineNumber, event.selection.positionColumn - 1);\n\n    if (lastChar !== ' ') {\n      return;\n    }\n\n    this.triggerSuggestions();\n  }\n\n  triggerSuggestions() {\n    const suggestController = this.codeEditor.getContribution('editor.contrib.suggestController');\n    if (!suggestController) {\n      return;\n    }\n\n    const convertedController = this.toSuggestionController(suggestController);\n\n    convertedController._model.cancel();\n    setTimeout(function() {\n      convertedController._model.trigger(true);\n    }, 10);\n  }\n\n  getCharAt(lineNumber: number, column: number) {\n    const model = this.codeEditor.getModel();\n    if (!model) {\n      return '';\n    }\n    if (model.getLineCount() === 0 || model.getLineCount() < lineNumber) {\n      return '';\n    }\n    const line = model.getLineContent(lineNumber);\n    if (line.length < column || column < 1) {\n      return '';\n    }\n    return line[column - 1];\n  }\n}\n","///<reference path=\"../../node_modules/monaco-editor/monaco.d.ts\" />\n\nimport angular from 'angular';\nimport KustoCodeEditor from './kusto_code_editor';\nimport config from 'grafana/app/core/config';\n\nlet editorTemplate = `<div id=\"content\" tabindex=\"0\" style=\"width: 100%; height: 150px\"></div>`;\n\nfunction link(scope, elem, attrs) {\n  const containerDiv = elem.find('#content')[0];\n  if (!(<any>window).monaco) {\n    (<any>window).System.import(`/${scope.pluginBaseUrl}/lib/monaco.min.js`).then(() => {\n      setTimeout(() => {\n        initMonaco(containerDiv, scope);\n      }, 1);\n    });\n  } else {\n    setTimeout(() => {\n      initMonaco(containerDiv, scope);\n    }, 1);\n  }\n\n  containerDiv.onblur = () => {\n    scope.onChange();\n  };\n\n  containerDiv.onkeydown = (evt) => {\n    if (evt.key === 'Escape') {\n      evt.stopPropagation();\n      return true;\n    }\n\n    return undefined;\n  };\n\n  function initMonaco(containerDiv, scope) {\n    const kustoCodeEditor = new KustoCodeEditor(\n      containerDiv,\n      scope.defaultTimeField,\n      scope.getSchema,\n      config\n    );\n\n    kustoCodeEditor.initMonaco(scope);\n\n    /* tslint:disable:no-bitwise */\n    kustoCodeEditor.addCommand(\n      monaco.KeyMod.Shift | monaco.KeyCode.Enter,\n      () => {\n        const newValue = kustoCodeEditor.getValue();\n        scope.content = newValue;\n        scope.onChange();\n      },\n    );\n    /* tslint:enable:no-bitwise */\n\n    // Sync with outer scope - update editor content if model has been changed from outside of directive.\n    scope.$watch('content', (newValue, oldValue) => {\n      let editorValue = kustoCodeEditor.getValue();\n      if (newValue !== editorValue && newValue !== oldValue) {\n        scope.$$postDigest(function() {\n          kustoCodeEditor.setEditorContent(newValue);\n        });\n      }\n    });\n\n    kustoCodeEditor.setOnDidChangeModelContent(() => {\n      scope.$apply(() => {\n        let newValue = kustoCodeEditor.getValue();\n        scope.content = newValue;\n      });\n    });\n\n    scope.$on('$destroy', () => {\n      kustoCodeEditor.disposeMonaco();\n    });\n  }\n}\n\n/** @ngInject */\nexport function kustoMonacoEditorDirective() {\n  return {\n    restrict: 'E',\n    template: editorTemplate,\n    scope: {\n      content: '=',\n      onChange: '&',\n      getSchema: '&',\n      defaultTimeField: '@',\n      pluginBaseUrl: '@',\n    },\n    link: link,\n  };\n}\n\nangular.module('grafana.controllers').directive('kustoMonacoEditor', kustoMonacoEditorDirective);\n","import moment from 'moment';\n\nexport default class QueryBuilder {\n  constructor(public rawQuery, public options) {}\n\n  interpolate() {\n    if (!this.rawQuery) {\n      return { query: '' };\n    }\n    let query = this.rawQuery;\n    const macroRegexp = /\\$__([_a-zA-Z0-9]+)\\(([^\\)]*)\\)/gi;\n    query = query.replace(macroRegexp, (match, p1, p2) => {\n      if (p1 === 'contains') {\n        return this.getMultiContains(p2);\n      }\n\n      return match;\n    });\n\n    query = query.replace(/\\$__escapeMulti\\(('[^]*')\\)/gi, (match, p1) => this.escape(p1));\n\n    // if query or annotation query\n    if (this.options) {\n      let timeField = '';\n      query = query.replace(macroRegexp, (match, p1, p2) => {\n        if (p1 === 'timeFilter') {\n          timeField = p2.trim();\n          return this.getTimeFilter(p2, this.options);\n        }\n\n        return match;\n      });\n      query = query.replace(/\\$__interval/gi, this.options.interval);\n      query = query.replace(/\\$__from/gi, this.getFrom(this.options));\n      query = query.replace(/\\$__to/gi, this.getUntil(this.options));\n\n      const orderByRegexp = /order\\s+by/gi;\n      if (!orderByRegexp.test(query)) {\n        if (!timeField) {\n          const binRegex = /bin\\(([_a-zA-Z0-9]+),/;\n          const match = binRegex.exec(query);\n          timeField = match? match[1]: '';\n        }\n\n        if (timeField) {\n          query += `\\n| order by ${timeField} asc`;\n        }\n      }\n    }\n\n    return { query };\n  }\n\n  getFrom(options) {\n    var from = options.range.from;\n    return `datetime(${moment(from)\n      .startOf('minute')\n      .toISOString()})`;\n  }\n\n  getUntil(options) {\n    if (options.rangeRaw.to === 'now') {\n      return 'now()';\n    } else {\n      var until = options.range.to;\n      return `datetime(${moment(until)\n        .startOf('minute')\n        .toISOString()})`;\n    }\n  }\n\n  getTimeFilter(timeField, options) {\n    if (options.rangeRaw.to === 'now') {\n      return `${timeField} >= ${this.getFrom(options)}`;\n    } else {\n      return `${timeField}  >= ${this.getFrom(options)} and ${timeField} <= ${this.getUntil(options)}`;\n    }\n  }\n\n  getMultiContains(inputs: string) {\n    const firstCommaIndex = inputs.indexOf(',');\n    const field = inputs.substring(0, firstCommaIndex);\n    const templateVar = inputs.substring(inputs.indexOf(',') + 1);\n\n    if (templateVar && templateVar.toLowerCase().trim() === 'all') {\n      return '1 == 1';\n    }\n\n    return `${field.trim()} in (${templateVar.trim()})`;\n  }\n\n  escape(inputs: string) {\n    return inputs\n      .substring(1, inputs.length - 1)\n      .split(`','`)\n      .map(v => `@'${v}'`)\n      .join(', ');\n  }\n}\n","import { QueryCtrl } from 'grafana/app/plugins/sdk';\nimport _ from 'lodash';\nimport './monaco/kusto_monaco_editor';\nimport { DatabaseItem } from './response_parser';\n\nexport interface ResultFormat {\n  text: string;\n  value: string;\n}\n\nexport class KustoDBQueryCtrl extends QueryCtrl {\n  static templateUrl = 'partials/query.editor.html';\n\n  defaults = {\n    query: [\n      '//change this to create your own time series query',\n      '',\n      '<table name>',\n      '| where $__timeFilter(Timestamp)',\n      '// | summarize count() by <group by column>, bin(Timestamp, $__interval)',\n      '// | order by Timestamp asc',\n    ].join('\\n'),\n    resultFormat: 'time_series',\n    database: '',\n  };\n\n  resultFormats: ResultFormat[];\n  showHelp: boolean;\n  showLastQuery: boolean;\n  lastQuery: string;\n  lastQueryError?: string;\n  databases: DatabaseItem[];\n\n  /** @ngInject **/\n  constructor($scope, $injector) {\n    super($scope, $injector);\n\n    _.defaultsDeep(this.target, this.defaults);\n    this.panelCtrl.events.on(\n      'data-received',\n      this.onDataReceived.bind(this),\n      $scope,\n    );\n    this.panelCtrl.events.on('data-error', this.onDataError.bind(this), $scope);\n    this.resultFormats = [\n      { text: 'Time series', value: 'time_series' },\n      { text: 'Table', value: 'table' },\n    ];\n    this.getDatabases();\n  }\n\n  onDataReceived(dataList) {\n    this.lastQueryError = undefined;\n    this.lastQuery = '';\n\n    let anySeriesFromQuery: any = _.find(dataList, {\n      refId: this.target.refId,\n    });\n    if (anySeriesFromQuery) {\n      this.lastQuery = anySeriesFromQuery.query;\n    }\n  }\n\n  onDataError(err) {\n    this.handleQueryCtrlError(err);\n  }\n\n  handleQueryCtrlError(err) {\n    if (err.query && err.query.refId && err.query.refId !== this.target.refId) {\n      return;\n    }\n\n    if (\n      err.error &&\n      err.error.data &&\n      err.error.data.error &&\n      err.error.data.error.innererror\n    ) {\n      if (err.error.data.error.innererror.innererror) {\n        this.lastQueryError =\n          err.error.data.error.innererror.innererror.message;\n      } else {\n        this.lastQueryError = err.error.data.error.innererror['@message'];\n      }\n    } else if (err.error && err.error.data && err.error.data.error) {\n      this.lastQueryError = err.error.data.error.message;\n    } else if (err.error && err.error.data) {\n      this.lastQueryError = err.error.data.message;\n    } else if (err.data && err.data.error) {\n      this.lastQueryError = err.data.error.message;\n    } else if (err.data && err.data.message) {\n      this.lastQueryError = err.data.message;\n    } else {\n      this.lastQueryError = err;\n    }\n  }\n\n  getDatabases() {\n    return this.datasource.getDatabases().then(dbs => {\n      this.databases = dbs;\n      if (dbs.length > 0 && !this.target.database) {\n        this.target.database =\n          this.datasource.defaultOrFirstDatabase || dbs[0].value;\n      }\n    });\n  }\n\n  getSchema() {\n    return this.getDatabases().then(() => {\n      return this.datasource.getSchema(this.target.database);\n    });\n  }\n}\n","export default class RequestAggregator {\n  ongoingRequests: any;\n  constructor(private backendSrv) {\n    this.ongoingRequests = {};\n  }\n\n  async doRequest(url, data, maxRetries = 1): Promise<any> {\n    return this.backendSrv\n      .datasourceRequest({\n        url,\n        method: 'POST',\n        data,\n      })\n      .catch(error => {\n        if (maxRetries > 0) {\n          return this.doRequest(url, data, maxRetries - 1);\n        }\n\n        throw error;\n      });\n  }\n\n  async dsPost(key, url, payload): Promise<any> {\n    if (this.ongoingRequests.hasOwnProperty(key)) {\n      return this.ongoingRequests[key];\n    } else {\n      this.ongoingRequests[key] = new Promise(async (resolve, reject) => {\n        try {\n          const response = await this.doRequest(url, payload);\n          resolve(response);\n        } catch (error) {\n          reject(error);\n        } finally {\n          delete this.ongoingRequests[key];\n        }\n      });\n      return this.ongoingRequests[key];\n    }\n  }\n}\n","import _ from 'lodash';\nimport moment from 'moment';\n\nexport interface DataTarget {\n  target: string;\n  datapoints: any[];\n  refId: string;\n  query: any;\n}\n\nexport interface TableResult {\n  columns: TableColumn[];\n  rows: any[];\n  type: string;\n  refId: string;\n  query: string;\n}\n\nexport interface TableColumn {\n  text: string;\n  type: string;\n}\n\nexport interface Variable {\n  text: string;\n  value: string;\n}\n\nexport interface AnnotationItem {\n  annotation: any;\n  time: number;\n  text: string;\n  tags: string[];\n}\n\n// API interfaces\nexport interface KustoDatabaseList {\n  data: {\n    Tables: KustoDatabaseItem[];\n  };\n}\n\nexport interface KustoDatabaseItem {\n  TableName: string;\n  Columns: any[];\n  Rows: any[];\n}\n\nexport interface KustoSchema {\n  Databases: { [key: string]: KustoDatabase };\n  Plugins: any[];\n}\nexport interface KustoDatabase {\n  Name: string;\n  Tables: { [key: string]: KustoTable };\n  Functions: { [key: string]: KustoFunction };\n}\n\nexport interface KustoTable {\n  Name: string;\n  OrderedColumns: KustoColumn[];\n}\n\nexport interface KustoColumn {\n  Name: string;\n  Type: string;\n}\n\nexport interface KustoFunction {\n  Name: string;\n  DocString: string;\n  Body: string;\n  Folder: string;\n  FunctionKind: string;\n  InputParameters: any[];\n  OutputColumns: any[];\n}\n\n// Internal interfaces\nexport interface DatabaseItem {\n  text: string;\n  value: string;\n}\n\nexport class ResponseParser {\n  parseDatabases(results: KustoDatabaseList): DatabaseItem[] {\n    const databases: DatabaseItem[] = [];\n    if (!results || !results.data || !results.data.Tables || results.data.Tables.length === 0) {\n      return databases;\n    }\n\n    for (let table of results.data.Tables) {\n      for (let row of table.Rows) {\n        databases.push({ text: row[5] || row[0], value: row[0] });\n      }\n    }\n\n    return databases;\n  }\n\n  parseSchemaResult(results: any): KustoSchema {\n    const schemaJson = results.Tables[0].Rows[0][0];\n    return JSON.parse(schemaJson);\n  }\n\n  parseQueryResult(results: any) {\n    let data: any[] = [];\n    let columns: any[] = [];\n    for (let i = 0; i < results.length; i++) {\n      if (results[i].result.data.Tables.length === 0) {\n        continue;\n      }\n      columns = results[i].result.data.Tables[0].Columns;\n      const rows = results[i].result.data.Tables[0].Rows;\n\n      if (results[i].query.resultFormat === 'time_series') {\n        data = _.concat(data, this.parseTimeSeriesResult(results[i].query, columns, rows));\n      } else {\n        data = _.concat(data, this.parseTableResult(results[i].query, columns, rows));\n      }\n    }\n    return { data: data };\n  }\n\n  parseTimeSeriesResult(query, columns, rows): DataTarget[] {\n    const data: DataTarget[] = [];\n    let timeIndex = -1;\n    let metricIndex = -1;\n    let valueIndex = -1;\n\n    for (let i = 0; i < columns.length; i++) {\n      if (timeIndex === -1 && columns[i].ColumnType === 'datetime') {\n        timeIndex = i;\n      }\n\n      if (metricIndex === -1 && columns[i].ColumnType === 'string') {\n        metricIndex = i;\n      }\n\n      if (valueIndex === -1 && ['int', 'long', 'real', 'double'].includes(columns[i].ColumnType)) {\n        valueIndex = i;\n      }\n    }\n\n    if (timeIndex === -1) {\n      throw new Error('No datetime column found in the result. The Time Series format requires a time column.');\n    }\n    for (let row of rows) {\n      const epoch = ResponseParser.dateTimeToEpoch(row[timeIndex]);\n      const metricName = metricIndex > -1 ? row[metricIndex] : columns[valueIndex].name;\n      const bucket = ResponseParser.findOrCreateBucket(data, metricName);\n      bucket.datapoints.push([row[valueIndex], epoch]);\n      bucket.refId = query.refId;\n      bucket.query = query.query;\n    }\n    return data;\n  }\n\n  parseTableResult(query, columns, rows): TableResult {\n    const tableResult: TableResult = {\n      type: 'table',\n      columns: _.map(columns, col => {\n        return { text: col.ColumnName, type: col.ColumnType };\n      }),\n      rows: rows,\n      refId: query.refId,\n      query: query.query,\n    };\n\n    return tableResult;\n  }\n\n  parseToVariables(results): Variable[] {\n    const variables: Variable[] = [];\n\n    const queryResult = this.parseQueryResult(results);\n\n    for (let result of queryResult.data) {\n      for (let row of _.flattenDeep(result.rows)) {\n        variables.push(<Variable>{\n          text: row,\n          value: row,\n        });\n      }\n    }\n\n    return variables;\n  }\n\n  transformToAnnotations(options: any, result: any) {\n    const queryResult = this.parseQueryResult(result);\n\n    const list: AnnotationItem[] = [];\n\n    for (let result of queryResult.data) {\n      let timeIndex = -1;\n      let textIndex = -1;\n      let tagsIndex = -1;\n\n      for (let i = 0; i < result.columns.length; i++) {\n        if (timeIndex === -1 && result.columns[i].type === 'datetime') {\n          timeIndex = i;\n        }\n\n        if (textIndex === -1 && result.columns[i].text.toLowerCase() === 'text') {\n          textIndex = i;\n        }\n\n        if (tagsIndex === -1 && result.columns[i].text.toLowerCase() === 'tags') {\n          tagsIndex = i;\n        }\n      }\n\n      for (let row of result.rows) {\n        list.push({\n          annotation: options.annotation,\n          time: Math.floor(ResponseParser.dateTimeToEpoch(row[timeIndex])),\n          text: row[textIndex] ? row[textIndex].toString() : '',\n          tags: row[tagsIndex] ? row[tagsIndex].trim().split(/\\s*,\\s*/) : [],\n        });\n      }\n    }\n\n    return list;\n  }\n\n  static findOrCreateBucket(data, target): DataTarget {\n    let dataTarget = _.find(data, ['target', target]);\n    if (!dataTarget) {\n      dataTarget = { target: target, datapoints: [], refId: '', query: '' };\n      data.push(dataTarget);\n    }\n\n    return dataTarget;\n  }\n\n  static dateTimeToEpoch(dateTime) {\n    return moment(dateTime).valueOf();\n  }\n}\n","import _ from 'lodash';\n\nconst versionPattern = /^(\\d+)(?:\\.(\\d+))?(?:\\.(\\d+))?(?:-([0-9A-Za-z\\.]+))?/;\n\nexport class SemVersion {\n  major: number;\n  minor: number;\n  patch: number;\n  meta: string;\n\n  constructor(version: string) {\n    const match = versionPattern.exec(version);\n    if (match) {\n      this.major = Number(match[1]);\n      this.minor = Number(match[2] || 0);\n      this.patch = Number(match[3] || 0);\n      this.meta = match[4];\n    }\n  }\n\n  isGtOrEq(version: string): boolean {\n    const compared = new SemVersion(version);\n\n    for (let i = 0; i < this.comparable.length; ++i) {\n      if (this.comparable[i] > compared.comparable[i]) {\n        return true;\n      }\n      if (this.comparable[i] < compared.comparable[i]) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  isValid(): boolean {\n    return _.isNumber(this.major);\n  }\n\n  get comparable() {\n    return [this.major, this.minor, this.patch];\n  }\n}\n\nexport function isVersionGtOrEq(a: string, b: string): boolean {\n  const aSemver = new SemVersion(a);\n  return aSemver.isGtOrEq(b);\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE_angular__;","module.exports = __WEBPACK_EXTERNAL_MODULE_grafana_app_core_config__;","module.exports = __WEBPACK_EXTERNAL_MODULE_grafana_app_plugins_sdk__;","module.exports = __WEBPACK_EXTERNAL_MODULE_lodash__;","module.exports = __WEBPACK_EXTERNAL_MODULE_moment__;"],"sourceRoot":""}